---
title: Next.js
description: Next.js-specifika lintningsregler för Ultracite.
---

Next.js-konfigurationen innehåller Next.js-specifika lintningsregler för bildoptimering, dokumentstruktur och App Router-mönster.

## Installation

Lägg till Next.js-konfigurationen i din `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## Översikt

Denna konfiguration lägger till regler som är specifika för Next.js-utveckling:

- **Bildoptimering**: Tvinga användning av Next.js `<Image>`-komponenten
- **Dokumentstruktur**: Förhindra felaktig användning av Next.js specialkomponenter
- **Konfigurationsfiler**: Särskild hantering för `next.config.*`-filer

## Next.js-specifika regler

### Prestanda

| Regel | Inställning | Beskrivning |
|------|---------|-------------|
| `noImgElement` | `error` | Förbjud användning av HTML-elementet `<img>`. Använd istället Next.js `<Image>`-komponenten för automatisk bildoptimering. |

### Stil

| Regel | Inställning | Beskrivning |
|------|---------|-------------|
| `noHeadElement` | `error` | Förbjud användning av HTML-elementet `<head>`. Använd Next.js `next/head` eller App Router metadata-API istället. |

### Misstänkta

| Regel | Inställning | Beskrivning |
|------|---------|-------------|
| `noDocumentImportInPage` | `error` | Förhindra import av `next/document` i sidfiler. `_document.tsx` ska endast finnas i `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Förhindra import av `next/head` i `_document.tsx`. Använd `<Head>` från `next/document` istället. |

## Överskridanden för konfigurationsfiler

Next.js-presetet inkluderar särskild hantering för konfigurationsfiler och App Router-komponenter:

### Next.js-konfigurationsfiler

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Detta tillåter Next.js-konfigurationsmönster som kanske normalt inte skulle klara lintningsreglerna.

### App Router-sidor och layouter

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

App Router-sidor och layoutkomponenter tillåts vara async utan att kräva `await`, eftersom Next.js hanterar dessa speciellt för serverrendering och datainhämtning.