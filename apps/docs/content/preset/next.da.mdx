---
title: Next.js
description: Next.js-specifikke lintregler for Ultracite.
---

Next.js-konfigurationen indeholder Next.js-specifikke lintregler for billedoptimering, dokumentstruktur og App Router-mønstre.

## Installation

Tilføj Next.js-konfigurationen til din `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## Oversigt

Denne konfiguration tilføjer regler, der er specifikke for Next.js-udvikling:

- **Billedoptimering**: Håndhæv brugen af Next.js `<Image>`-komponenten
- **Dokumentstruktur**: Forhindre uhensigtsmæssig brug af Next.js' særlige komponenter
- **Konfigurationsfiler**: Særlig håndtering af `next.config.*`-filer

## Next.js-specifikke regler

### Ydeevne

| Regel | Indstilling | Beskrivelse |
|------|---------|-------------|
| `noImgElement` | `error` | Forhindre brug af `<img>` HTML-elementet. Brug i stedet Next.js `<Image>`-komponenten for automatisk billedoptimering. |

### Stil

| Regel | Indstilling | Beskrivelse |
|------|---------|-------------|
| `noHeadElement` | `error` | Forhindre brug af `<head>` HTML-elementet. Brug i stedet Next.js `next/head` eller App Router metadata-API. |

### Mistænkeligt

| Regel | Indstilling | Beskrivelse |
|------|---------|-------------|
| `noDocumentImportInPage` | `error` | Forhindre import af `next/document` i sidefiler. `_document.tsx` bør kun eksistere i `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Forhindre import af `next/head` i `_document.tsx`. Brug i stedet `<Head>` fra `next/document`. |

## Overstyringer for konfigurationsfiler

Next.js-preset inkluderer særlig håndtering for konfigurationsfiler og App Router-komponenter:

### Next.js-konfigurationsfiler

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Dette tillader Next.js-konfigurationsmønstre, som normalt muligvis ikke opfylder lintreglerne.

### App Router-sider og -layouts

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

App Router-side- og layoutkomponenter må være async uden at kræve `await`, da Next.js håndterer dem særligt for server-side rendering og data fetching.