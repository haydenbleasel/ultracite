---
title: Next.js
description: Next.js-specifikke lintregler for Ultracite.
---

The Next.js configuration has Next.js-specific linting rules for image optimization, document structure, and App Router patterns.

## Installation

Add the Next.js configuration to your `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

Bemærk: Next.js-konfigurationen inkluderer automatisk React-regler, så du behøver ikke at tilføje `ultracite/react` separat.

## Oversigt

This configuration adds rules specific to Next.js development:

- **Billedoptimering**: Enforcer brugen af Next.js Image-komponenten
- **Dokumentstruktur**: Forhindre forkert brug af specielle Next.js-komponenter
- **Client-komponenter**: Sikre, at asynkrone client-komponenter håndteres korrekt
- **Konfigurationsfiler**: Særlig håndtering for `next.config.*` filer

## Next.js-specifikke regler

### Eksperimentelle

| Regel | Indstilling | Beskrivelse |
|------|---------|-------------|
| `noNextAsyncClientComponent` | `error` | Forhindre asynkrone client-komponenter i Next.js. Client-komponenter bør være synkrone; brug server-komponenter til asynkrone operationer. |

### Ydelse

| Regel | Indstilling | Beskrivelse |
|------|---------|-------------|
| `noImgElement` | `error` | Forbyd brugen af `<img>` HTML-elementet. Brug Next.js `<Image>`-komponenten i stedet for automatisk billedoptimering. |

### Stil

| Regel | Indstilling | Beskrivelse |
|------|---------|-------------|
| `noHeadElement` | `error` | Forbyd brugen af `<head>` HTML-elementet. Brug Next.js `next/head` eller App Router metadata-API'en i stedet. |

### Mistænkelige

| Regel | Indstilling | Beskrivelse |
|------|---------|-------------|
| `noDocumentImportInPage` | `error` | Forhindre import af `next/document` i sidefiler. `_document.tsx` bør kun eksistere i `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Forhindre import af `next/head` i `_document.tsx`. Brug `<Head>` fra `next/document` i stedet. |

## Overskrivelser for konfigurationsfiler

The Next.js preset includes special handling for configuration files and App Router components:

### Next.js-konfigurationsfiler

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Dette tillader Next.js-konfigurationsmønstre, som normalt måske ikke ville bestå lint-reglerne.

### App Router-sider og layouts

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

App Router side- og layoutkomponenter må være asynkrone uden at kræve `await`, da Next.js håndterer disse særligt for server-side rendering og datahentning.