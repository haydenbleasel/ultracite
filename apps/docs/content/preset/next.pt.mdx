---
title: Next.js
description: Regras de linting específicas do Next.js para o Ultracite.
---

A configuração do Next.js contém regras de linting específicas do Next.js para otimização de imagens, estrutura de documentos e padrões do App Router.

## Instalação

Adicione a configuração do Next.js ao seu `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## Visão geral

Esta configuração adiciona regras específicas para desenvolvimento com Next.js:

- **Otimização de Imagens**: Exigir o uso do componente Image do Next.js
- **Estrutura de Documentos**: Evitar uso indevido dos componentes especiais do Next.js
- **Ficheiros de Configuração**: Tratamento especial para ficheiros `next.config.*`

## Regras Específicas do Next.js

### Desempenho

| Regra | Configuração | Descrição |
|------|---------|-------------|
| `noImgElement` | `error` | Proibir o uso do elemento HTML `<img>`. Utilize o componente `<Image>` do Next.js em vez disso para otimização automática de imagens. |

### Estilo

| Regra | Configuração | Descrição |
|------|---------|-------------|
| `noHeadElement` | `error` | Proibir o uso do elemento HTML `<head>`. Utilize `next/head` ou a API de metadados do App Router em vez disso. |

### Suspeitos

| Regra | Configuração | Descrição |
|------|---------|-------------|
| `noDocumentImportInPage` | `error` | Evitar importar `next/document` em ficheiros de página. `_document.tsx` só deve existir em `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Evitar importar `next/head` em `_document.tsx`. Utilize `<Head>` de `next/document` em vez disso. |

## Substituições para Ficheiros de Configuração

O preset do Next.js inclui tratamento especial para ficheiros de configuração e componentes do App Router:

### Ficheiros de Configuração do Next.js

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Isto permite padrões de configuração do Next.js que normalmente poderiam não passar nas regras de linting.

### Páginas e Layouts do App Router

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Os componentes de página e layout do App Router podem ser async sem exigirem `await`, pois o Next.js trata estes casos de forma especial para renderização no servidor e obtenção de dados.