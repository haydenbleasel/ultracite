---
title: Next.js
description: Reglas de linting específicas de Next.js para Ultracite.
---

La configuración de Next.js tiene reglas de linting específicas para la optimización de imágenes, la estructura del documento y los patrones del App Router.

## Instalación

Añade la configuración de Next.js a tu `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## Descripción general

Esta configuración añade reglas específicas para el desarrollo con Next.js:

- **Optimización de imágenes**: Imponer el uso del componente `<Image>` de Next.js
- **Estructura del documento**: Prevenir el uso inadecuado de componentes especiales de Next.js
- **Archivos de configuración**: Manejo especial para archivos `next.config.*`

## Reglas específicas de Next.js

### Rendimiento

| Rule | Setting | Description |
|------|---------|-------------|
| `noImgElement` | `error` | Prohibir el uso del elemento HTML `<img>`. Usar el componente `<Image>` de Next.js en su lugar para la optimización automática de imágenes. |

### Estilo

| Rule | Setting | Description |
|------|---------|-------------|
| `noHeadElement` | `error` | Prohibir el uso del elemento HTML `<head>`. Usar `next/head` de Next.js o la API de metadata del App Router en su lugar. |

### Sospechosos

| Rule | Setting | Description |
|------|---------|-------------|
| `noDocumentImportInPage` | `error` | Evitar importar `next/document` en archivos de páginas. `_document.tsx` sólo debe existir en `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Evitar importar `next/head` en `_document.tsx`. Usar `<Head>` de `next/document` en su lugar. |

## Anulaciones para archivos de configuración

El preset de Next.js incluye un manejo especial para archivos de configuración y componentes del App Router:

### Archivos de configuración de Next.js

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Esto permite patrones de configuración de Next.js que normalmente podrían no pasar las reglas de linting.

### Páginas y layouts del App Router

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Los componentes de páginas y layout del App Router pueden ser async sin requerir `await`, ya que Next.js los maneja de forma especial para el renderizado del lado del servidor y la obtención de datos.