---
title: Next.js
description: Règles de lint spécifiques à Next.js pour Ultracite.
---

La configuration Next.js contient des règles de lint spécifiques à Next.js pour l'optimisation des images, la structure du document et les modèles de l'App Router.

## Installation

Ajoutez la configuration Next.js à votre `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## Aperçu

Cette configuration ajoute des règles spécifiques au développement Next.js :

- **Optimisation des images**: Imposer l'utilisation du composant Image de Next.js
- **Structure du document**: Empêcher l'utilisation incorrecte des composants spéciaux de Next.js
- **Fichiers de configuration**: Gestion spéciale pour les fichiers `next.config.*`

## Règles spécifiques à Next.js

### Performances

| Règle | Paramètre | Description |
|------|---------|-------------|
| `noImgElement` | `error` | Interdire l'utilisation de l'élément HTML `<img>`. Utiliser le composant `<Image>` de Next.js pour l'optimisation automatique des images. |

### Style

| Règle | Paramètre | Description |
|------|---------|-------------|
| `noHeadElement` | `error` | Interdire l'utilisation de l'élément HTML `<head>`. Utiliser `next/head` de Next.js ou l'API de métadonnées de l'App Router à la place. |

### Suspicieux

| Règle | Paramètre | Description |
|------|---------|-------------|
| `noDocumentImportInPage` | `error` | Empêcher l'importation de `next/document` dans les fichiers de page. `_document.tsx` ne doit exister que dans `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Empêcher l'importation de `next/head` dans `_document.tsx`. Utiliser `<Head>` depuis `next/document` à la place. |

## Remplacements pour les fichiers de configuration

Le preset Next.js inclut un traitement spécial pour les fichiers de configuration et les composants de l'App Router :

### Fichiers de configuration Next.js

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Cela permet d'utiliser des modèles de configuration Next.js qui ne passeraient pas typiquement les règles de lint.

### Pages et layouts de l'App Router

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Les composants de page et de layout de l'App Router sont autorisés à être async sans nécessiter d'`await`, car Next.js les gère spécialement pour le rendu côté serveur et la récupération de données.