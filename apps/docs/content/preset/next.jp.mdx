---
title: Next.js
description: Ultracite 向けの Next.js 固有のリンティングルール。
---

Next.js の設定は、画像最適化、ドキュメント構造、App Router パターンに関する Next.js 固有のリンティングルールを含みます。

## インストール

Next.js の設定をあなたの `biome.jsonc` に追加します:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## 概要

この設定は Next.js 開発に特化したルールを追加します:

- **画像の最適化**: 自動画像最適化のために Next.js の `<Image>` コンポーネントの使用を強制します
- **ドキュメント構造**: Next.js の特別なコンポーネントの不適切な使用を防ぎます
- **設定ファイル**: `next.config.*` ファイルに対する特別な処理

## Next.js 固有のルール

### パフォーマンス

| ルール | 設定 | 説明 |
|------|---------|-------------|
| `noImgElement` | `error` | `<img>` HTML 要素の使用を禁止します。自動画像最適化のために Next.js の `<Image>` コンポーネントを使用してください。 |

### スタイル

| ルール | 設定 | 説明 |
|------|---------|-------------|
| `noHeadElement` | `error` | `<head>` HTML 要素の使用を禁止します。代わりに Next.js の `next/head` または App Router の metadata API を使用してください。 |

### 疑わしい

| ルール | 設定 | 説明 |
|------|---------|-------------|
| `noDocumentImportInPage` | `error` | ページファイル内で `next/document` のインポートを防ぎます。`_document.tsx` は `pages/_document.tsx` にのみ存在するべきです。 |
| `noHeadImportInDocument` | `error` | `_document.tsx` 内で `next/head` のインポートを防ぎます。代わりに `next/document` から `<Head>` を使用してください。 |

## 設定ファイルのオーバーライド

Next.js プリセットは、設定ファイルおよび App Router コンポーネントに対して特別な処理を含みます:

### Next.js の設定ファイル

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

これにより、通常のリンティングルールに合格しない可能性のある Next.js の設定パターンを許容できます。

### App Router のページとレイアウト

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

App Router のページおよびレイアウトコンポーネントは `await` を必須とせずに async にすることが許可されています。Next.js がサーバーサイドレンダリングやデータフェッチのためにこれらを特別に処理するためです。