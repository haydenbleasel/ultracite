---
title: Next.js
description: Next.js 固有の Ultracite 用リンティングルール。
---

Next.js の設定は、画像最適化、ドキュメント構造、App Router パターンに関する Next.js 固有のリンティングルールを含みます。

## インストール

Next.js の設定を `biome.jsonc` に追加してください:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## 概要

この設定は Next.js 開発に特化した以下のルールを追加します:

- **Image Optimization**: Next.js の Image コンポーネントの使用を強制します
- **Document Structure**: Next.js の特別なコンポーネントの不適切な使用を防ぎます
- **Client Components**: 非同期のクライアントコンポーネントが正しく扱われることを保証します
- **Configuration Files**: `next.config.*` ファイルの特別な取り扱い

## Next.js 固有のルール

### 実験的

| ルール | 設定 | 説明 |
|--------|------|------|
| `noNextAsyncClientComponent` | `error` | Next.js での非同期クライアントコンポーネントを防ぎます。クライアントコンポーネントは同期であるべきであり、非同期処理にはサーバーコンポーネントを使用してください。 |

### パフォーマンス

| ルール | 設定 | 説明 |
|--------|------|------|
| `noImgElement` | `error` | `<img>` HTML 要素の使用を禁止します。自動画像最適化のために Next.js の `<Image>` コンポーネントを使用してください。 |

### スタイル

| ルール | 設定 | 説明 |
|--------|------|------|
| `noHeadElement` | `error` | `<head>` HTML 要素の使用を禁止します。代わりに `next/head` または App Router のメタデータ API を使用してください。 |

### 疑わしい

| ルール | 設定 | 説明 |
|--------|------|------|
| `noDocumentImportInPage` | `error` | ページファイル内で `next/document` をインポートすることを防ぎます。`_document.tsx` は `pages/_document.tsx` にのみ存在するべきです。 |
| `noHeadImportInDocument` | `error` | `_document.tsx` 内で `next/head` をインポートすることを防ぎます。代わりに `next/document` からの `<Head>` を使用してください。 |

## 設定ファイルのオーバーライド

Next.js プリセットは、設定ファイルと App Router コンポーネントに対する特別な扱いを含みます:

### Next.js 設定ファイル

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

これは、通常のリンティングルールでは通らない可能性がある Next.js の設定パターンを許可します。

### App Router ページとレイアウト

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

App Router のページおよびレイアウトコンポーネントは、Next.js がサーバーサイドレンダリングとデータフェッチを特別に扱うため、`await` を必須とせずに非同期であることが許可されています。