---
title: Qwik
description: Qwik-specific linting rules for Ultracite.
---

The Qwik configuration (`ultracite/qwik`) extends the base Ultracite preset with Qwik-specific linting rules for serialization, visible tasks, lexical scope, and method usage.

## Installation

Add the Qwik configuration to your `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite", "ultracite/qwik"]
}
```

## Overview

This configuration adds rules specific to Qwik development:

- **Serialization**: Enforce proper use of Qwik's resumability model
- **Visible Tasks**: Prevent inappropriate use of `useVisibleTask$`
- **Lexical Scope**: Ensure proper variable scope in `$` functions
- **Method Usage**: Enforce correct Qwik method patterns
- **React-Specific Props**: Disallow React-specific props in Qwik components

## Qwik-Specific Rules

### Nursery

| Rule | Setting | Description |
|------|---------|-------------|
| `noQwikUseVisibleTask` | `error` | Prevent usage of `useVisibleTask$`. This hook runs code eagerly on the client, defeating Qwik's resumability. Use `useTask$` or `useResource$` instead when possible. |
| `useQwikClasslist` | `error` | Enforce using `class` object syntax instead of string concatenation for dynamic classes in Qwik. |
| `useQwikValidLexicalScope` | `error` | Enforce valid lexical scope in Qwik's `$` functions. Variables from outer scopes must be explicitly captured. |
| `useQwikMethodUsage` | `error` | Enforce correct usage of Qwik-specific methods and APIs. |

### Suspicious

| Rule | Setting | Description |
|------|---------|-------------|
| `noReactSpecificProps` | `error` | Disallow React-specific props like `className` and `htmlFor` in Qwik. Use `class` and `for` instead. |

## Usage Examples

### Avoiding `useVisibleTask$`

```tsx
// Bad: Using useVisibleTask$ (eager client-side execution)
import { component$, useVisibleTask$ } from '@builder.io/qwik';

export const Counter = component$(() => {
  useVisibleTask$(() => {
    console.log('Component mounted');
  });

  return <div>Counter</div>;
});

// Good: Using useTask$ (lazy, resumable)
import { component$, useTask$ } from '@builder.io/qwik';

export const Counter = component$(() => {
  useTask$(({ track }) => {
    track(() => console.log('Reactive task'));
  });

  return <div>Counter</div>;
});
```

`useVisibleTask$` defeats Qwik's main advantage (resumability) by eagerly executing code on the client. Only use it when absolutely necessary for DOM manipulation or third-party library integration.

### Class Object Syntax

```tsx
// Bad: String concatenation for classes
import { component$ } from '@builder.io/qwik';

export const Button = component$(({ isActive, isDisabled }) => {
  return (
    <button
      class={`btn ${isActive ? 'active' : ''} ${isDisabled ? 'disabled' : ''}`}
    >
      Click me
    </button>
  );
});

// Good: Object syntax for dynamic classes
import { component$ } from '@builder.io/qwik';

export const Button = component$(({ isActive, isDisabled }) => {
  return (
    <button
      class={{
        btn: true,
        active: isActive,
        disabled: isDisabled,
      }}
    >
      Click me
    </button>
  );
});
```

### Valid Lexical Scope

```tsx
// Bad: Implicitly capturing outer scope
import { component$, $ } from '@builder.io/qwik';

export const Counter = component$(() => {
  const multiplier = 2;

  const handleClick = $(() => {
    // `multiplier` is used but not explicitly captured
    console.log(count * multiplier);
  });

  return <button onClick$={handleClick}>Click</button>;
});

// Good: Explicit capture or using signals
import { component$, $, useSignal } from '@builder.io/qwik';

export const Counter = component$(() => {
  const multiplier = useSignal(2);

  const handleClick = $(() => {
    // `multiplier.value` is properly tracked
    console.log(count * multiplier.value);
  });

  return <button onClick$={handleClick}>Click</button>;
});
```

### Qwik Method Usage

```tsx
// Bad: Incorrect method usage
import { component$ } from '@builder.io/qwik';

export const MyComponent = component$(() => {
  // Using methods incorrectly
  return <div>Content</div>;
});

// Good: Correct method usage
import { component$, useStore } from '@builder.io/qwik';

export const MyComponent = component$(() => {
  const store = useStore({ count: 0 });

  return (
    <div>
      <p>Count: {store.count}</p>
      <button onClick$={() => store.count++}>Increment</button>
    </div>
  );
});
```

### React vs Qwik Props

```tsx
// Bad: Using React-specific props
import { component$ } from '@builder.io/qwik';

export const MyComponent = component$(() => {
  return (
    <div className="container">
      <label htmlFor="email">Email</label>
      <input id="email" type="email" />
    </div>
  );
});

// Good: Using Qwik props
import { component$ } from '@builder.io/qwik';

export const MyComponent = component$(() => {
  return (
    <div class="container">
      <label for="email">Email</label>
      <input id="email" type="email" />
    </div>
  );
});
```

## Why These Rules Matter

### Resumability

Qwik's core innovation is **resumability** - the ability to continue execution on the client where the server left off, without re-executing code. Rules like `noQwikUseVisibleTask` help maintain this benefit.

### Serialization

Qwik serializes the application state and event handlers. The `$` symbol indicates serialization boundaries. Proper lexical scope ensures correct serialization.

### Performance

By avoiding eager client-side execution and properly using Qwik's reactive primitives, your application loads faster and uses less JavaScript.

## When to Use `useVisibleTask$`

Only use `useVisibleTask$` when you need to:

1. Integrate third-party libraries that require DOM access
2. Perform imperative DOM manipulation
3. Set up browser-only APIs (like `IntersectionObserver`)

For most reactive logic, use `useTask$` or `useResource$` instead.

## Combining with Other Configurations

```jsonc title="biome.jsonc"
{
  // Qwik with TanStack Router
  "extends": ["ultracite", "ultracite/qwik", "ultracite/router"]
}
```

## Customization

To override specific Qwik rules:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite", "ultracite/qwik"],
  "linter": {
    "rules": {
      "nursery": {
        "noQwikUseVisibleTask": "warn"
      }
    }
  }
}
```

## Related Configurations

- [Core Configuration](/core) - Base Ultracite rules
- [Solid Configuration](/solid) - Similar fine-grained reactivity
- [Configuration Guide](/configuration) - General configuration options

## Learn More

- [Qwik Documentation](https://qwik.builder.io/docs/)
- [Qwik Resumability](https://qwik.builder.io/docs/concepts/resumable/)
- [Qwik $ Optimizer](https://qwik.builder.io/docs/advanced/optimizer/)
