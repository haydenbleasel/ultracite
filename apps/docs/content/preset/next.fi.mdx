---
title: Next.js
description: Next.js-kohtaiset linttaussäännöt Ultracitea varten.
---

Next.js-konfiguraatio sisältää Next.js-kohtaisia linttaussääntöjä kuvan optimointiin, dokumentin rakenteeseen ja App Router -kuvioihin.

## Asennus

Lisää Next.js-konfiguraatio tiedostoon `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## Yleiskatsaus

Tämä konfiguraatio lisää sääntöjä, jotka ovat erityisiä Next.js-kehitykselle:

- **Kuvaoptimointi**: Pakota Next.jsin `Image`-komponentin käyttö
- **Dokumentin rakenne**: Estä Next.jsin erikoiskomponenttien väärinkäyttö
- **Konfiguraatiotiedostot**: Erityiskäsittely `next.config.*` -tiedostoille

## Next.js-kohtaiset säännöt

### Suorituskyky

| Sääntö | Asetus | Kuvaus |
|-------|--------|--------|
| `noImgElement` | `error` | Kiellettää `<img>`-HTML-elementin käytön. Käytä sen sijaan Next.jsin `<Image>`-komponenttia automaattiseen kuvan optimointiin. |

### Tyyli

| Sääntö | Asetus | Kuvaus |
|-------|--------|--------|
| `noHeadElement` | `error` | Kiellettää `<head>`-HTML-elementin käytön. Käytä sen sijaan Next.jsin `next/head`-komponenttia tai App Routerin metadata-APIa. |

### Epäilyttävät

| Sääntö | Asetus | Kuvaus |
|-------|--------|--------|
| `noDocumentImportInPage` | `error` | Estä `next/document`-tuonnin käyttäminen sivutiedostoissa. `_document.tsx`-tiedoston tulisi olla ainoastaan `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Estä `next/head`-tuonnin käyttäminen `_document.tsx`-tiedostossa. Käytä sen sijaan `<Head>`-komponenttia `next/document`-paketista. |

## Konfiguraatiotiedostojen ohitukset

Next.js-esiasetus sisältää erityiskäsittelyn konfiguraatiotiedostoille ja App Router -komponenteille:

### Next.js-konfiguraatiotiedostot

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Tämä mahdollistaa Next.js-konfiguraatiomallien käytön, jotka eivät tyypillisesti läpäise linttaussääntöjä.

### App Router -sivut ja -layoutit

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

App Routerin sivu- ja layout-komponentit voivat olla async ilman `await`-vaatimusta, sillä Next.js käsittelee nämä erityisesti palvelinpuolen renderöintiä ja datan hakua varten.