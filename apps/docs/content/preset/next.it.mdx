---
title: Next.js
description: Regole di linting specifiche per Next.js per Ultracite.
---

La configurazione Next.js include regole di linting specifiche per Next.js relative all'ottimizzazione delle immagini, alla struttura del documento e ai pattern dell'App Router.

## Installazione

Aggiungi la configurazione Next.js al tuo `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## Panoramica

Questa configurazione aggiunge regole specifiche per lo sviluppo Next.js:

- **Ottimizzazione delle immagini**: Imporre l'uso del componente Image di Next.js
- **Struttura del documento**: Impedire l'uso improprio dei componenti speciali di Next.js
- **File di configurazione**: Gestione speciale per i file `next.config.*`

## Regole specifiche per Next.js

### Prestazioni

| Regola | Impostazione | Descrizione |
|--------|--------------|-------------|
| `noImgElement` | `error` | Vietare l'uso dell'elemento HTML `<img>`. Utilizzare invece il componente `<Image>` di Next.js per l'ottimizzazione automatica delle immagini. |

### Stile

| Regola | Impostazione | Descrizione |
|--------|--------------|-------------|
| `noHeadElement` | `error` | Vietare l'uso dell'elemento HTML `<head>`. Utilizzare `next/head` di Next.js o l'API metadata dell'App Router invece. |

### Comportamenti sospetti

| Regola | Impostazione | Descrizione |
|--------|--------------|-------------|
| `noDocumentImportInPage` | `error` | Impedire l'importazione di `next/document` nei file di pagina. `_document.tsx` dovrebbe esistere solo in `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Impedire l'importazione di `next/head` in `_document.tsx`. Usare invece `<Head>` da `next/document`. |

## Sovrascritture per file di configurazione

Il preset Next.js include una gestione speciale per i file di configurazione e i componenti dell'App Router:

### File di configurazione Next.js

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Questo permette pattern di configurazione Next.js che normalmente potrebbero non superare le regole di linting.

### Pagine e layout dell'App Router

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

I componenti di pagina e layout dell'App Router possono essere async senza richiedere `await`, poich√© Next.js li gestisce in modo speciale per il rendering lato server e il recupero dei dati.