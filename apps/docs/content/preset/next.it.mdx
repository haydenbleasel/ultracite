---
title: Next.js
description: Regole di linting specifiche per Next.js per Ultracite.
---

La configurazione per Next.js include regole di linting specifiche per Next.js relative all'ottimizzazione delle immagini, alla struttura del documento e ai pattern dell'App Router.

## Installazione

Aggiungi la configurazione per Next.js al tuo `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

Nota: La configurazione per Next.js include automaticamente le regole per React, quindi non è necessario aggiungere separatamente `ultracite/react`.

## Panoramica

Questa configurazione aggiunge regole specifiche per lo sviluppo con Next.js:

- **Ottimizzazione delle immagini**: Imporre l'uso del componente Image di Next.js
- **Struttura del documento**: Impedire l'uso improprio dei componenti speciali di Next.js
- **Componenti client**: Assicurare che i componenti client asincroni siano gestiti correttamente
- **File di configurazione**: Gestione speciale per i file `next.config.*`

## Regole specifiche per Next.js

### Sperimentale

| Regola | Impostazione | Descrizione |
|--------|--------------|-------------|
| `noNextAsyncClientComponent` | `error` | Impedire componenti client asincroni in Next.js. I componenti client dovrebbero essere sincroni; usare componenti server per operazioni asincrone. |

### Prestazioni

| Regola | Impostazione | Descrizione |
|--------|--------------|-------------|
| `noImgElement` | `error` | Vietare l'uso dell'elemento HTML `<img>`. Utilizzare invece il componente `<Image>` di Next.js per l'ottimizzazione automatica delle immagini. |

### Stile

| Regola | Impostazione | Descrizione |
|--------|--------------|-------------|
| `noHeadElement` | `error` | Vietare l'uso dell'elemento HTML `<head>`. Utilizzare `next/head` di Next.js o l'API metadata dell'App Router. |

### Sospette

| Regola | Impostazione | Descrizione |
|--------|--------------|-------------|
| `noDocumentImportInPage` | `error` | Evitare l'importazione di `next/document` nei file di pagina. `_document.tsx` dovrebbe esistere solo in `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Evitare l'importazione di `next/head` in `_document.tsx`. Usare invece `<Head>` da `next/document`. |

## Sovrascritture per i file di configurazione

Il preset per Next.js include una gestione speciale per i file di configurazione e i componenti dell'App Router:

### File di configurazione di Next.js

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Questo permette l'uso di pattern di configurazione di Next.js che normalmente potrebbero non superare le regole di linting.

### Pagine e layout dell'App Router

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

I componenti di pagina e layout dell'App Router sono autorizzati a essere asincroni senza richiedere `await`, poiché Next.js li gestisce in modo speciale per il rendering lato server e il recupero dei dati.