---
title: Next.js
description: Reguli de linting specifice Next.js pentru Ultracite.
---

Configurația Next.js conține reguli de linting specifice Next.js pentru optimizarea imaginilor, structura documentului și tiparele App Router.

## Instalare

Adaugă configurația Next.js la `biome.jsonc`:

```jsonc title="biome.jsonc"
{
  "extends": ["ultracite/core", "ultracite/next"]
}
```

## Prezentare generală

Această configurație adaugă reguli specifice dezvoltării cu Next.js:

- **Optimizare imagini**: Impune utilizarea componentului Image din Next.js
- **Structura documentului**: Previne utilizarea incorectă a componentelor speciale din Next.js
- **Fișiere de configurare**: Tratament special pentru fișierele `next.config.*`

## Reguli specifice Next.js

### Performanță

| Regulă | Setare | Descriere |
|--------|--------|-----------|
| `noImgElement` | `error` | Interzice utilizarea elementului HTML `<img>`. Folosește în schimb componenta `<Image>` din Next.js pentru optimizarea automată a imaginilor. |

### Stil

| Regulă | Setare | Descriere |
|--------|--------|-----------|
| `noHeadElement` | `error` | Interzice utilizarea elementului HTML `<head>`. Folosește în schimb `next/head` din Next.js sau App Router metadata API. |

### Suspecte

| Regulă | Setare | Descriere |
|--------|--------|-----------|
| `noDocumentImportInPage` | `error` | Împiedică importarea `next/document` în fișierele de pagină. `_document.tsx` ar trebui să existe doar în `pages/_document.tsx`. |
| `noHeadImportInDocument` | `error` | Împiedică importarea `next/head` în `_document.tsx`. Folosește în schimb `<Head>` din `next/document`. |

## Suprascrieri pentru fișierele de configurare

Presetul Next.js include tratament special pentru fișierele de configurare și componentele App Router:

### Fișiere de configurare Next.js

```jsonc
{
  "overrides": [
    {
      "includes": ["next.config.*"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Aceasta permite utilizarea unor tipare de configurare Next.js care, în mod normal, nu ar trece regulile de linting.

### Pagini și layout-uri App Router

```jsonc
{
  "overrides": [
    {
      "includes": ["**/page.{ts,tsx,js,jsx}", "**/layout.{ts,tsx,js,jsx}"],
      "linter": {
        "rules": {
          "suspicious": {
            "useAwait": "off"
          }
        }
      }
    }
  ]
}
```

Componentele de pagină și layout din App Router au voie să fie async fără a necesita `await`, deoarece Next.js le tratează în mod special pentru redarea pe server și preluarea datelor.