---
title: pre-commit
description: Sahneye alınmış Git dosyalarınızda pre-commit ile Ultracite'ı otomatik olarak çalıştırın
---

Ultracite, Git hook'larını yönetmek için popüler bir Python tabanlı çerçeve olan [pre-commit](https://pre-commit.com/) ile sorunsuz entegrasyon sağlar. Bu entegrasyon, her commit öncesinde kodunuzun düzgün biçimlendirildiğinden emin olmak için pre-commit hook'larını otomatik olarak kurar.

## pre-commit nedir?

pre-commit, çok dilli pre-commit hook'larını yönetip sürdürmek için bir çerçevedir. Python ekosisteminde yaygın olarak kullanılır ancak herhangi bir dil için hook'ları destekler. pre-commit, hangi hook'ların ne zaman çalıştırılacağını tanımlamak için `.pre-commit-config.yaml` dosyasını kullanır.

## Ultracite pre-commit'i Nasıl Kullanır

Projenizde Ultracite'ı başlattığınızda, pre-commit'i her commit öncesinde kod biçimlendirmesini çalıştıracak şekilde otomatik olarak yapılandırabilir. Bu, şunları sağlar:

- Tüm commit edilen kodun tutarlı biçimlendirme standartlarına uyması
- Kod kalite kontrollerinin otomatik olarak uygulanması
- Ekip üyelerinin kodu manuel olarak biçimlendirmeyi hatırlamasına gerek kalmaması
- Depo genelinde temiz, tutarlı bir kod stili korunması

## Pre-commit Hook Davranışı

Ultracite'in pre-commit entegrasyonu aşağıdaki komutu çalıştıran yerel bir hook oluşturur:

```bash
npx ultracite fix
```

Bu komut:
- Kod tabanınızda Biome'in linter ve formatlayıcısını çalıştırır
- Mümkün olduğunda biçimlendirme sorunlarını otomatik olarak düzeltir
- Tüm sahneye alınmış dosyaların proje kod standartlarına uygun olmasını sağlar
- Biçimlendirme tutarsızlıkları getirecek commit'leri engeller

## Otomatik Kurulum

Başlatma işlemi sırasında (`ultracite init`), pre-commit seçeneğini seçerseniz, Ultracite:

1. **Config Dosyası Oluşturur**: `.pre-commit-config.yaml` dosyasını Ultracite hook'u ile ayarlar
2. **Mevcut Kurulumları Yönetir**: Eğer zaten pre-commit yapılandırılmışsa, var olan yapılandırmanızı üzerine yazmak yerine Ultracite hook'unu mevcut yapılandırmanıza ekler

## Oluşturulan Yapılandırma

Ultracite aşağıdaki `.pre-commit-config.yaml` dosyasını oluşturur:

```yaml
repos:
  - repo: local
    hooks:
      - id: ultracite
        name: ultracite
        entry: npx ultracite fix
        language: system
        types_or: [javascript, jsx, ts, tsx, json, css]
        pass_filenames: false
```

### Yapılandırma Açıklaması

- **repo: local** - Uzak bir depodan çekmek yerine yerel tanımlı bir hook kullanır
- **id: ultracite** - Hook için benzersiz tanımlayıcı
- **name: ultracite** - Hook çalıştığında gösterilen görüntü adı
- **entry** - Çalıştırılacak komut (Ultracite'ı çalıştırmak için npx kullanır)
- **language: system** - Sistemin yüklü araçlarını kullanır
- **types_or** - Hook'u tetikleyen dosya türleri
- **pass_filenames: false** - Her dosya için ayrı çalışmak yerine tüm dosyalar için bir kez çalışır

## Önkoşullar

pre-commit entegrasyonunu kullanmadan önce şunlara ihtiyacınız olacak:

1. **Python yüklü** - pre-commit bir Python paketidir
2. **pre-commit yüklü** - Küresel olarak veya bir sanal ortamda kurun:
   ```bash
   pip install pre-commit
   # or
   pipx install pre-commit
   ```
3. **Hook'ları başlatın** - Ultracite yapılandırmayı oluşturduktan sonra:
   ```bash
   pre-commit install
   ```

## Avantajlar

### Tutarlı Kod Stili
Her commit otomatik olarak proje biçimlendirme standartlarına uyarak stil tartışmalarını ve tutarsızlıkları ortadan kaldırır.

### Otomatik Kalite Kontrolü
Biçimlendirme sorunlarını depoya girmeden önce yakalayarak temiz bir commit geçmişi sağlar.

### Ekip İşbirliği
Tüm ekip üyeleri manuel müdahale olmadan aynı biçimlendirme standartlarını otomatik olarak takip eder.

### CI/CD Optimizasyonu
Kod yerel olarak önceden biçimlendirildiği için CI/CD hattındaki biçimlendirme kaynaklı hatalar azalır.

### Çok Dilli Destek
Projenizde birden fazla dil kullanıyorsanız, pre-commit hepsini tek bir yapılandırma dosyasıyla yönetebilir.

## İş Akışı Entegrasyonu

pre-commit entegrasyonu etkinleştirildiğinde tipik Git iş akışınız şöyle olur:

1. Kod dosyalarınızda **değişiklik yapın**
2. `git add` ile **değişiklikleri sahneleyin**
3. `git commit` ile **değişiklikleri commit edin**
4. **Pre-commit hook otomatik olarak çalışır**, sahneye alınmış dosyaları biçimlendirir
5. **Commit**, düzgün biçimlendirilmiş kodla devam eder

Formatter değişiklik yaparsa, bu değişiklikleri de sahneleyip commit etmeniz gerekir.

## Özelleştirme

Ultracite mantıklı varsayılanlar kurar, ancak davranışı özelleştirebilirsiniz:

- [pre-commit hook deposu](https://pre-commit.com/hooks.html) üzerinden ek hook'lar ekleyin
- Biçimlendirme kurallarını ayarlamak için Biome ayarlarını yapılandırın
- Dosya türlerini dahil etmek/dışlamak için `types_or` filtresini değiştirin
- Belirli dosyaları atlamak için `exclude` desenleri ekleyin

### Genişletilmiş Örnek Yapılandırma

```yaml
repos:
  - repo: local
    hooks:
      - id: ultracite
        name: ultracite
        entry: npx ultracite fix
        language: system
        types_or: [javascript, jsx, ts, tsx, json, css]
        pass_filenames: false
        exclude: ^(vendor/|dist/)
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v4.5.0
    hooks:
      - id: trailing-whitespace
      - id: end-of-file-fixer
```

## Sorun Giderme

### Hook Çalışmıyor
Eğer pre-commit hook'ı çalışmıyorsa:
- pre-commit'in yüklü olduğundan emin olun: `pre-commit --version`
- Git hook'larını kurmak için `pre-commit install` çalıştırın
- Proje kök dizininde `.pre-commit-config.yaml` dosyasının var olduğundan emin olun

### Node.js Bulunamadı
npx ile ilgili bulunamadı hataları alırsanız:
- Node.js'in PATH'inizde olduğundan emin olun
- Sürüm yönetimi için bir `.nvmrc` veya `.node-version` dosyası kullanmayı düşünün

### Hook'ları Atlamak
Nadir durumlarda pre-commit hook'unu atlamanız gerekirse:
```bash
git commit --no-verify
# or
git commit -n
```

Bunu nadiren kullanın; çünkü bu, kod tabanınızın tutarlı kalmasını sağlayan otomatik biçimlendirmeyi atlar.

### Hook'ları Manuel Olarak Çalıştırma
Tüm dosyalarda hook'ları manuel olarak çalıştırmak için:
```bash
pre-commit run --all-files
```

Sadece Ultracite hook'unu çalıştırmak için:
```bash
pre-commit run ultracite --all-files
```