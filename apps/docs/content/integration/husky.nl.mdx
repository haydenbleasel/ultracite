---
title: Husky
description: Voer Ultracite automatisch uit op je gestagte Git-bestanden met Husky
---

Ultracite biedt naadloze integratie met [Husky](https://typicode.github.io/husky/), een populair hulpmiddel voor het beheren van Git-hooks. Deze integratie stelt automatisch pre-commit hooks in om ervoor te zorgen dat je code voor elke commit correct geformatteerd is.

## Wat is Husky?

Husky is een hulpmiddel dat het eenvoudig maakt om Git-hooks in je project te gebruiken. Git-hooks zijn scripts die automatisch worden uitgevoerd op bepaalde momenten in de Git-werkstroom, zoals voordat je code commit of pusht. Husky vereenvoudigt het proces van het instellen en beheren van deze hooks.

## Hoe Ultracite Husky gebruikt

Wanneer je Ultracite in je project initialiseert, kan het Husky automatisch configureren om codeformattering vóór elke commit uit te voeren. Dit zorgt ervoor dat:

- Alle gecommitte code consistente formatteringsstandaarden volgt
- Codekwaliteitscontroles automatisch worden afgedwongen
- Teamleden zich niet hoeven te herinneren om code handmatig te formatteren
- Je repository een schone, consistente codestijl behoudt

## Gedrag van de pre-commit hook

De Husky-integratie van Ultracite maakt een pre-commit hook die het volgende commando uitvoert:

```bash
npx ultracite fix
```

Dit commando:
- Voert Biome's linter en formatter uit op je codebase
- Lost formatteringsproblemen automatisch op waar mogelijk
- Zorgt ervoor dat alle gestagte bestanden aan de code standaarden van je project voldoen
- Voorkomt commits die formatteringsinconsistenties zouden introduceren

## Automatische installatie

Tijdens het initialisatieproces (`ultracite init`), als je de Husky-optie selecteert, doet Ultracite het volgende:

1. **Installeert Husky**: Voegt Husky toe als ontwikkelingsafhankelijkheid aan je project
2. **Maakt Hookbestand aan**: Stelt het `.husky/pre-commit`-bestand in met het formatteringscommando
3. **Gaat om met bestaande configuraties**: Als je Husky al geconfigureerd hebt, werkt het je bestaande pre-commit hook bij in plaats van deze te overschrijven

## Integratiedetails

De Husky-integratie bevat meerdere slimme functies:

### Afhankelijkheidsbeheer
- Installeert automatisch Husky als dev-dependency met de package manager van je project
- Gebruikt het juiste package manager commando (`npm install -D`, `yarn add -D`, `pnpm add -D`, etc.)

### Hookbeheer
- **Nieuwe projecten**: Maakt een nieuw `.husky/pre-commit`-bestand met het ultracite fix-commando
- **Bestaande projecten**: Voegt het Ultracite-commando toe aan je bestaande pre-commit hook, en behoudt andere hooks die je mogelijk hebt geconfigureerd

### Bestandsstructuur
De integratie maakt of wijzigt:
```
.husky/
└── pre-commit    # Contains the formatting command
```

## Voordelen

### Consistente codestijl
Elke commit volgt automatisch de formatteringsstandaarden van je project, waardoor discussies over stijl en inconsistenties worden geëlimineerd.

### Geautomatiseerde kwaliteitscontrole
Vang formatteringsproblemen op voordat ze je repository binnendringen, waardoor een schone commitgeschiedenis wordt behouden.

### Samenwerking binnen het team
Alle teamleden volgen automatisch dezelfde formatteringsstandaarden zonder handmatige tussenkomst.

### CI/CD-optimalisatie
Verminder CI/CD-pijplijnfouten vanwege formatteringsproblemen, omdat code lokaal vooraf geformatteerd wordt.

## Workflow-integratie

Met Husky-integratie ingeschakeld ziet je typische Git-werkstroom er als volgt uit:

1. **Breng wijzigingen aan** in je codebestanden
2. **Stage wijzigingen** met `git add`
3. **Commit wijzigingen** met `git commit`
4. **De pre-commit hook wordt automatisch uitgevoerd**, en formatteert gestagte bestanden
5. **De commit gaat door** met correct geformatteerde code

Als de formatter wijzigingen aanbrengt, moet je die wijzigingen ook staggen en committen.

## Aanpassing

Hoewel Ultracite verstandige standaardinstellingen configureert, kun je het gedrag aanpassen:

- Wijzig `.husky/pre-commit` om extra commando's toe te voegen
- Configureer Biome-instellingen om formatteringsregels aan te passen
- Voeg naast de formattering van Ultracite andere pre-commit checks toe

## Probleemoplossing

### Hook wordt niet uitgevoerd
Als de pre-commit hook niet wordt uitgevoerd:
- Zorg dat Husky is geïnstalleerd: `npm ls husky`
- Controleer of `.husky/pre-commit` bestaat en uitvoerbaar is
- Verifieer dat Git-hooks in je repository zijn ingeschakeld

### Permissieproblemen
Op Unix-achtige systemen, zorg dat het hookbestand uitvoerbaar is:
```bash
chmod +x .husky/pre-commit
```

### Hooks overslaan
In zeldzame gevallen waarin je de pre-commit hook wilt overslaan:
```bash
git commit --no-verify
```

Gebruik dit spaarzaam, omdat het de geautomatiseerde formattering omzeilt die je codebase consistent houdt.