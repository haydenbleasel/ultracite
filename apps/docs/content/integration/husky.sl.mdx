---
title: Husky
description: Samodejno zaženite Ultracite na vaših pripravljenih Git datotekah s Husky
---

Ultracite nudi nemoteno integracijo s [Husky](https://typicode.github.io/husky/), priljubljenim orodjem za upravljanje Git hookov. Ta integracija samodejno nastavi pre-commit hooke, da zagotovi, da je vaša koda pravilno formatirana pred vsakim commitom.

## Kaj je Husky?

Husky je orodje, ki olajša uporabo Git hookov v vašem projektu. Git hooki so skripte, ki se samodejno zaženejo v določenih trenutkih Git delovnega toka, na primer pred commitanjem ali pushanjem kode. Husky poenostavi postopek nastavitve in upravljanja teh hookov.

## Kako Ultracite uporablja Husky

Ko v projektu inicializirate Ultracite, lahko samodejno konfigurira Husky tako, da pred vsakim commitom zažene formatiranje kode. To zagotavlja, da:

- Vsa committana koda sledi doslednim standardom formatiranja
- Preverjanja kakovosti kode se izvajajo samodejno
- Člani ekipe se ne rabijo spomniti ročnega formatiranja kode
- Vaš repozitorij ohranja čist in dosleden slog kode

## Obnašanje pre-commit hooka

Ultracitejeva integracija s Husky ustvari pre-commit hook, ki zažene naslednji ukaz:

```bash
npx ultracite fix
```

Ta ukaz:
- Zažene Biomeov linter in formatter na vaši kodi
- Samodejno odpravi težave s formatiranjem, kjer je to mogoče
- Zagotovi, da vse pripravljene datoteke izpolnjujejo standarde vaše kode
- Onemogoči commite, ki bi vnesli neskladja v formatiranju

## Samodejna nastavitev

Med procesom inicializacije (`ultracite init`), če izberete možnost Husky, Ultracite:

1. **Installs Husky**: Doda Husky kot razvojno odvisnost v vaš projekt
2. **Creates Hook File**: Nastavi datoteko `.husky/pre-commit` z ukazom za formatiranje
3. **Handles Existing Setups**: Če imate Husky že konfiguriran, posodobi obstoječi pre-commit hook, namesto da bi ga prepisal

## Podrobnosti integracije

Integracija Husky vključuje več pametnih funkcij:

### Upravljanje odvisnosti
- Samodejno namesti Husky kot dev odvisnost z uporabo upravljalca paketov vašega projekta
- Uporabi ustrezen ukaz upravljalca paketov (`npm install -D`, `yarn add -D`, `pnpm add -D`, itd.)

### Upravljanje hookov
- **New Projects**: Ustvari novo datoteko `.husky/pre-commit` z ukazom ultracite fix
- **Existing Projects**: Doda Ultracitejev ukaz v obstoječi pre-commit hook in ohrani druge hooke, ki ste jih morda konfigurirali

### Struktura datotek
Integracija ustvari ali spremeni:
```
.husky/
└── pre-commit    # Contains the formatting command
```

## Prednosti

### Dosleden slog kode
Vsak commit samodejno sledi standardom formatiranja vašega projekta, kar odpravi razprave o slogu in neskladja.

### Samodejna kontrola kakovosti
Ujame težave s formatiranjem, preden vstopijo v repozitorij, kar ohranja čist zgodovinski zapis commitov.

### Sodelovanje ekipe
Vsi člani ekipe samodejno sledijo istim standardom formatiranja brez ročnega posredovanja.

### Optimizacija CI/CD
Zmanjšajte napake v CI/CD cevovodih zaradi težav s formatiranjem, saj je koda že vnaprej formatirana lokalno.

## Integracija v delovni tok

Z omogočeno integracijo Husky vaš običajni Git delovni tok postane:

1. **Naredite spremembe** v vaših datotekah s kodo
2. **Pripravite spremembe** z `git add`
3. **Commitajte spremembe** z `git commit`
4. **Pre-commit hook se samodejno zažene**, formatira pripravljene datoteke
5. **Commit se nadaljuje** s pravilno formatirano kodo

Če formatter naredi spremembe, boste morali te spremembe ponovno pripraviti in commitati.

## Prilagoditev

Medtem ko Ultracite nastavi smiselne privzete vrednosti, lahko vedenje prilagodite:

- Spremenite `.husky/pre-commit`, da dodate dodatne ukaze
- Konfigurirajte nastavitve Biome za prilagoditev pravil formatiranja
- Dodajte druga pre-commit preverjanja poleg Ultracitejevega formatiranja

## Odpravljanje težav

### Hook se ne zažene
Če se pre-commit hook ne izvrši:
- Preverite, ali je Husky nameščen: `npm ls husky`
- Preverite, ali `.husky/pre-commit` obstaja in je izvršljiva datoteka
- Preverite, ali so Git hooki omogočeni v vašem repozitoriju

### Težave s dovoljenji
Na sistemih, podobnih Unixu, poskrbite, da je datoteka hook izvršljiva:
```bash
chmod +x .husky/pre-commit
```

### Preskakovanje hookov
V redkih primerih, ko morate izpustiti pre-commit hook:
```bash
git commit --no-verify
```

Uporabljajte to varčno, saj zaobide samodejno formatiranje, ki ohranja vaš repozitorij dosleden.