---
title: Husky
description: Automatikusan futtatja az Ultracite-et a stagingelt Git fájlokon Husky segítségével
---

Ultracite zökkenőmentes integrációt biztosít a [Husky](https://typicode.github.io/husky/), a népszerű Git hook kezelő eszközzel. Ez az integráció automatikusan létrehoz pre-commit hookokat, hogy minden commit előtt biztosítsa a kód megfelelő formázását.

## Mi az a Husky?

A Husky egy eszköz, amely megkönnyíti a Git hookok használatát a projektedben. A Git hookok olyan szkriptek, amelyek automatikusan futnak a Git munkafolyamat bizonyos pontjain, például commit vagy push előtt. A Husky leegyszerűsíti ezen hookok beállításának és kezelésének folyamatát.

## Hogyan használja az Ultracite a Husky-t

Amikor inicializálod az Ultracite-et a projektedben, automatikusan konfigurálhatja a Husky-t úgy, hogy minden commit előtt futtassa a kód formázását. Ez biztosítja, hogy:

- Az összes commitolt kód következetes formázási szabványoknak megfeleljen
- A kódminőség-ellenőrzések automatikusan érvényesüljenek
- A csapattagoknak ne kelljen manuálisan emlékezniük a kód formázására
- A tárolód tiszta, következetes kódstílust tartson fenn

## A pre-commit hook viselkedése

Az Ultracite Husky-integrációja létrehoz egy pre-commit hookot, amely a következő parancsot futtatja:

```bash
npx ultracite fix
```

Ez a parancs:
- Futtatja a Biome linterét és formázóját a kódbázison
- Automatikusan javítja a formázási problémákat, ahol lehetséges
- Biztosítja, hogy az összes stagingelt fájl megfeleljen a projekt kód szabványainak
- Megakadályozza az olyan commitokat, amelyek formázási inkonzisztenciákat vezetnének be

## Automatikus beállítás

Az inicializálás során (`ultracite init`), ha kiválasztod a Husky opciót, az Ultracite:

1. **Husky telepítése**: Hozzáadja a Husky-t a projekt fejlesztési függőségeihez  
2. **Hook fájl létrehozása**: Beállítja a `.husky/pre-commit` fájlt a formázó paranccsal  
3. **Meglévő beállítások kezelése**: Ha már van Husky konfigurációd, frissíti a meglévő pre-commit hookot a felülírás helyett

## Integráció részletei

A Husky integráció több okos funkciót tartalmaz:

### Függőségkezelés
- Automatikusan telepíti a Husky-t fejlesztési függőségként a projekt csomagkezelőjének használatával
- A megfelelő csomagkezelő parancsot használja (`npm install -D`, `yarn add -D`, `pnpm add -D`, stb.)

### Hook-kezelés
- **Új projektek**: Létrehoz egy új `.husky/pre-commit` fájlt az ultracite fix paranccsal  
- **Meglévő projektek**: Hozzáfűzi az Ultracite parancsot a meglévő pre-commit hookodhoz, megőrizve a korábban konfigurált egyéb hookokat

### Fájlszerkezet
Az integráció létrehozza vagy módosítja:
```
.husky/
└── pre-commit    # Contains the formatting command
```

## Előnyök

### Konzisztens kódstílus
Minden commit automatikusan megfelel a projekt formázási szabványainak, így megszüntetve a stílusról szóló vitákat és az inkonzisztenciákat.

### Automatizált minőségellenőrzés
Elkapja a formázási problémákat még azelőtt, hogy bekerülnének a tárolóba, így tisztán tartva a commit történetet.

### Csapatmunka
Minden csapattag automatikusan követi ugyanazokat a formázási szabványokat manuális beavatkozás nélkül.

### CI/CD optimalizálás
Csökkenti a CI/CD pipeline hibáit formázási problémák miatt, mivel a kód helyben előre formázva van.

## Munkafolyamat integrációja

Ha a Husky integráció engedélyezve van, a tipikus Git munkafolyamatod a következő lesz:

1. **Végezz módosításokat** a kód fájljaidon  
2. **Készítsd elő a változtatásokat** a `git add` paranccsal  
3. **Commiteld a változásokat** a `git commit` paranccsal  
4. **A pre-commit hook automatikusan lefut**, formázva a stagingelt fájlokat  
5. **A commit folytatódik** a megfelelően formázott kóddal

Ha a formázó módosításokat hajt végre, akkor azokat is stagingelni és commitolni kell.

## Testreszabás

Bár az Ultracite ésszerű alapbeállításokat hoz létre, testre szabhatod a viselkedést:

- Módosítsd a `.husky/pre-commit` fájlt további parancsok hozzáadásához  
- Állítsd be a Biome beállításait a formázási szabályok módosításához  
- Adj hozzá más pre-commit ellenőrzéseket az Ultracite formázása mellé

## Hibaelhárítás

### A hook nem fut
Ha a pre-commit hook nem fut:
- Győződj meg róla, hogy a Husky telepítve van: `npm ls husky`
- Ellenőrizd, hogy a `.husky/pre-commit` létezik-e és végrehajtható-e
- Ellenőrizd, hogy a Git hookok engedélyezve vannak-e a tárolódban

### Jogosultsági problémák
Unix-szerű rendszereken győződj meg róla, hogy a hook fájl végrehajtható:
```bash
chmod +x .husky/pre-commit
```

### Hookok kikerülése
Ritka esetekben, amikor szükség van a pre-commit hook kihagyására:
```bash
git commit --no-verify
```

Használd ezt mértékkel, mivel ezzel megkerülöd az automatikus formázást, amely egységesen tartja a kódbázist.