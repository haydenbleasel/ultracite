---
title: Husky
description: Ultracite automatisch auf Ihren vorgemerkten Git-Dateien mit Husky ausführen
---

Ultracite bietet eine nahtlose Integration mit [Husky](https://typicode.github.io/husky/), einem beliebten Tool zur Verwaltung von Git-Hooks. Diese Integration richtet automatisch Pre-Commit-Hooks ein, um sicherzustellen, dass Ihr Code vor jedem Commit korrekt formatiert ist.

## Was ist Husky?

Husky ist ein Tool, das die Verwendung von Git-Hooks in Ihrem Projekt erleichtert. Git-Hooks sind Skripte, die automatisch zu bestimmten Zeitpunkten im Git-Workflow ausgeführt werden, z. B. vor dem Committen oder Pushen von Code. Husky vereinfacht das Einrichten und Verwalten dieser Hooks.

## Wie Ultracite Husky verwendet

Wenn Sie Ultracite in Ihrem Projekt initialisieren, kann es Husky automatisch so konfigurieren, dass vor jedem Commit eine Codeformatierung ausgeführt wird. Das stellt sicher, dass:

- Alle committeten Dateien einheitlichen Formatierungsstandards entsprechen
- Code-Qualitätsprüfungen automatisch durchgesetzt werden
- Teammitglieder nicht daran denken müssen, Code manuell zu formatieren
- Ihr Repository einen sauberen, konsistenten Code-Stil beibehält

## Verhalten des Pre-Commit-Hooks

Die Husky-Integration von Ultracite erstellt einen Pre-Commit-Hook, der folgenden Befehl ausführt:

```bash
npx ultracite fix
```

Dieser Befehl:
- Führt den Linter und Formatter von Biome auf Ihrer Codebasis aus
- Behebt Formatierungsprobleme automatisch, sofern möglich
- Stellt sicher, dass alle vorgemerkten Dateien die Code-Standards Ihres Projekts erfüllen
- Verhindert Commits, die Formatierungsinkonsistenzen verursachen würden

## Automatische Einrichtung

Während des Initialisierungsprozesses (`ultracite init`), wenn Sie die Husky-Option wählen, führt Ultracite Folgendes aus:

1. **Installiert Husky**: Fügt Husky als Entwicklungsabhängigkeit zu Ihrem Projekt hinzu
2. **Erstellt Hook-Datei**: Legt die Datei `.husky/pre-commit` mit dem Formatierungsbefehl an
3. **Behandelt vorhandene Konfigurationen**: Wenn Sie Husky bereits konfiguriert haben, aktualisiert es Ihren bestehenden Pre-Commit-Hook, anstatt ihn zu überschreiben

## Integrationsdetails

Die Husky-Integration enthält mehrere intelligente Funktionen:

### Abhängigkeitsverwaltung
- Installiert Husky automatisch als Dev-Abhängigkeit mit dem Paketmanager Ihres Projekts
- Verwendet den passenden Paketmanager-Befehl (`npm install -D`, `yarn add -D`, `pnpm add -D`, etc.)

### Hook-Verwaltung
- **Neue Projekte**: Erstellt eine neue `.husky/pre-commit`-Datei mit dem `ultracite fix`-Befehl
- **Bestehende Projekte**: Hängt den Ultracite-Befehl an Ihren bestehenden Pre-Commit-Hook an und bewahrt andere Hooks, die Sie möglicherweise konfiguriert haben

### Dateistruktur
Die Integration erstellt oder ändert:
```
.husky/
└── pre-commit    # Contains the formatting command
```

## Vorteile

### Konsistenter Code-Stil
Jeder Commit folgt automatisch den Formatierungsstandards Ihres Projekts, wodurch Stil-Diskussionen und Inkonsistenzen entfallen.

### Automatisierte Qualitätskontrolle
Erkennt Formatierungsprobleme, bevor sie ins Repository gelangen, und bewahrt eine saubere Commit-Historie.

### Zusammenarbeit im Team
Alle Teammitglieder halten automatisch dieselben Formatierungsstandards ein, ohne manuelles Eingreifen.

### CI/CD-Optimierung
Verringern Sie CI/CD-Pipeline-Fehler aufgrund von Formatierungsproblemen, da der Code lokal vorformatiert wird.

## Workflow-Integration

Mit aktivierter Husky-Integration sieht Ihr typischer Git-Workflow folgendermaßen aus:

1. **Änderungen vornehmen** an Ihren Code-Dateien
2. **Änderungen vormerken** mit `git add`
3. **Änderungen committen** mit `git commit`
4. **Der Pre-Commit-Hook wird ausgeführt** und formatiert automatisch die vorgemerkten Dateien
5. **Der Commit wird fortgesetzt** mit korrekt formatiertem Code

Wenn der Formatter Änderungen vornimmt, müssen Sie diese ebenfalls vormerken und committen.

## Anpassung

Während Ultracite sinnvolle Standardwerte einrichtet, können Sie das Verhalten anpassen:

- Ändern Sie `.husky/pre-commit`, um zusätzliche Befehle hinzuzufügen
- Konfigurieren Sie Biome-Einstellungen, um die Formatierungsregeln anzupassen
- Fügen Sie neben der Formatierung von Ultracite weitere Pre-Commit-Prüfungen hinzu

## Fehlerbehebung

### Hook wird nicht ausgeführt
Wenn der Pre-Commit-Hook nicht ausgeführt wird:
- Stellen Sie sicher, dass Husky installiert ist: `npm ls husky`
- Prüfen Sie, dass `.husky/pre-commit` existiert und ausführbar ist
- Überprüfen Sie, dass Git-Hooks in Ihrem Repository aktiviert sind

### Berechtigungsprobleme
Stellen Sie auf Unix-ähnlichen Systemen sicher, dass die Hook-Datei ausführbar ist:
```bash
chmod +x .husky/pre-commit
```

### Hooks umgehen
In seltenen Fällen, in denen Sie den Pre-Commit-Hook überspringen müssen:
```bash
git commit --no-verify
```

Verwenden Sie dies sparsam, da dadurch die automatisierte Formatierung umgangen wird, die Ihre Codebasis konsistent hält.